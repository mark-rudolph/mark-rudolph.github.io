<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta name="i3Dml" content="HTML Tidy, see www.w3.org">
    <title> Interactive 3D scene 1 </title>
    <link rel="shortcut icon" type="image/png" href= "./images/jasmine_favicon.png">
    <style type="text/css" media="screen">
      html, body { height:100%; background-color: #000000;}
      body { margin:0; padding:0; overflow:hidden; }
      #flashContent { width:100%; height:100%; }
    </style>

    <!-- tooltip -->
    <link rel="stylesheet" type="text/css" href="./css/basic.css" />
    <link rel="stylesheet" type="text/css" href="./css/tooltip.css" />
    <script type="text/javascript" src="./src/tooltip.js"></script>


    <!-- include lib files here... -->
    <script type="text/javascript" src="./src/libs/socket.io.js"> </script>
   

    <!-- TOPOLOGY configuration -->
    <!-- const configuration needed to create angel from angel module -->
    <!-- if port constant is undefined it is not configured --> 
    <script type="text/javascript"> 
    var TOPOLOGY = {
      DOMAIN: 'tosca.i3Dmedia.com',
      WS_PORT: 8088,  // websocket port for connection to JS in Browser
      AS_REPORT_TO_NODE: false,  // logger.warn on server (requires S_PORT)
    };

      /*
      // default
      var TOPOLOGY = {
        "DOMAIN": "tosca.i3Dmedia.com",
        "WS_PORT": 8088,  // websocket port for connection to JS in Browser
        "AS_REPORT_TO_NODE": false,  // logger.warn on server 
      };
      */
    </script>


    <!-- include source files here... -->
    <script type="text/javascript" src="./src/angel.js"> </script>



    <!-- provide BROWSER_is_ready() JS page-load monitor for AS -->
    <!-- provide PLAYER_is_ready() AS Flash-ready monitor for JS -->
    <script type="text/javascript"> 
      // use namespace BROWSER
      var BROWSER_is_ready = false;
      var BROWSER_ready = function(){
        return BROWSER_is_ready;
      };

      // use namespace PLAYER
      var PLAYER_is_ready = false
      var PLAYER_ready = function(){
        PLAYER_is_ready = true;
      };
    </script>


    <script type="text/javascript">
      (function() {

        // prepare application 
  
        // page is loaded
        window.onload = function() {
          console.log("JS index: window.onLoad");
          console.log("JS index: set BROWSER_is_ready true");
          BROWSER_is_ready = true;

          // start application after angel is ready
          var itv = setInterval(function(){
            console.log("index: trying 'angel' = " + angel);  
            if(angel !== undefined){
              console.log("JS index: angel is ready  => start application");
              clearInterval(itv);
              application();
            }
          }, 100);
        };

        function application() {
          console.log("application started!");
          // mf-specific call!!
          angel.action(JSON.stringify({action: "action from index.html"}));
        };
      })();

    </script>
  </head>

  <body>
    <span class="tooltip" title="pan/tilt camera moving mouse and holding down left mouse button; move camera with arrow keys; or both simultaneously" style="margin-left:50px;color:lime;" >
			                Mouse over this text to read a guiding tooltip!
    </span>

    <div id="container">
    </div><!-- id="container" -->
    <div id="flashContent">
	<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="1280" height="720" id="flash" align="middle">
		<param name="movie" value="./seed.swf" />
		<param name="quality" value="high" />
		<param name="bgcolor" value="#000000" />
		<param name="play" value="true" />
		<param name="loop" value="true" />
		<param name="wmode" value="direct"/>
		<param name="scale" value="showall" />
		<param name="menu" value="true" />
		<param name="devicefont" value="false" />
		<param name="salign" value="" />
		<param name="allowScriptAccess" value="always" />
		<param name="allowFullScreen" value="true" />
		<!--[if !IE]>-->
	<object type="application/x-shockwave-flash" name="flash" id="flash" data="./seed.swf" width="1280" height="720">
		<param name="movie" value="./seed.swf" />
		<param name="quality" value="high" />
		<param name="bgcolor" value="#000000" />
		<param name="play" value="true" />
		<param name="loop" value="true" />
		<param name="wmode" value="direct" />
		<param name="scale" value="showall" />
		<param name="menu" value="true" />
		<param name="devicefont" value="false" />
		<param name="salign" value="" />
                <param name="allowScriptAccess" value="always" /> 
	        <param name="allowFullScreen" value="true" />
	<!--<![endif]-->
	<a href="http://www.adobe.com/go/getflash">
		<img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />
	</a>
	<!--[if !IE]>-->
	</object>
	<!--<![endif]-->
        </object>
        
     
        
        
    </div><!-- flashContent -->
    
    
<script src="http://static.freewebs.getclicky.com/72360863.js" type="text/javascript"></script> <noscript><img alt="Clicky" src="http://in.freewebs.getclicky.com/72360863-fwdb4.gif" /></noscript>
    
    
  </body>
</html>

